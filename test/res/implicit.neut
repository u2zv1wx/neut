(include "notation.neut")

(include "top.neut")

;; (include "bottom.neut")

;; (include "darwin.neut")

(constant file-descriptor tau)

(constant stdout file-descriptor)

(constant write
  (pi
    ((A u64)
     (out file-descriptor)
     (str (array A u8))
     (len u64))
    (product (array A u8) i64)))

(attribute write (implicit 0))

;; (definition id ((A tau) (x A)) x)

;; (definition id ([A tau] (x A)) x)

;; (attribute id (implicit 0))

(definition id ([A tau] (x A)) x)

(id unit)


;; (definition id2 ((A tau) (x A)) x)

;; (constant unsafe-cast
;;   (pi ((A tau) (B tau) (_ A)) B))

;; (constant exit
;;   (pi
;;     ((status i64))
;;     top))

(let test "あ")

;; ;; トップレベルにおけるborrowingの利用。
(let a (write stdout &test 3))

(let a (write stdout &test 3))

(let a (write stdout &test 3))

unit
;; (write hole stdout &test 3)
