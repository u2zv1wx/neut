(reserve let)

(reserve begin)

(notation (begin e)
  e)

(notation (begin e rest+)
  ((lambda ((_ _)) (begin rest+)) (begin e)))

(notation (begin (let x e+) rest+)
  ((lambda ((x _)) (begin rest+)) (begin e+)))

(index top unit)

(index i32)

(primitive core.add (hom i32 i32 i32))

(definition type (box universe))

(definition state
  (lambda ((S type) (A type))
    (hom S (tensor S A))))

(index world)

(definition io
  (state world))

(primitive print (hom i32 (io top)))

(definition foo
  (lambda ((S type)) (hom S S)))

(core.add 100 2)
