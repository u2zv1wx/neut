(no-implicit-core)

(include library "core/notation.neut")

(constant os:file-descriptor tau)

(constant os:stdout os:file-descriptor)

;; (use os)

(constant os:write
  (pi
    ((A u64)
     (_ os:file-descriptor)
     (str (array A u8))
     (len u64))
    (product (array A u8) u64)))

;; (definition let-bind ((a tau) (b tau) (x a) (k (hom a b)))
;;   (witness b
;;     (k x)))

(definition string
  (sigma
    ((len u64))
    (array len u8)))

;; (constant hoge (pi ((_ string)) (product string i64)))

;; (definition foo
;;   (irreducible (lambda ((x (array 4 u8))) x)))



(os:write * os:stdout (array-introduction u8 3 4 5 6) 4)
