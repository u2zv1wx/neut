(ensure core/0.1.0.2
  "https://gitlab.com/veka41/neut-core/-/raw/master/release/0.1.0.2.tar.xz")

(include "core/0.1.0.2/core.neut")

(define p
  ((str string))
  (witness i64
    (with identity.bind
      (let _
        (let _ (i64 100))
        (string.print &str)
        (string.print &str))
      (let _ (string.print &str))
      (let len (string.print &str))
      (erase str)
      len)))

(reduce (p "あ"))
