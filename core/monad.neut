(no-implicit-core)

(include library "core/foundation.neut")

(include library "core/functor.neut")

;; clarifyのときにa : tauがtypeEnvにみつからないっていうバグが出るので修正すること
(coinductive monad ((m (hom tau tau)))
  (witness-functor ((_ (monad m)))
    (functor m))
  (return ((_ (monad m)))
    (pi ((a tau) (_ a))
      (m a)))
  (bind ((_ (monad m)))
    (pi ((a tau) (b tau) (_ (m a)) (k (hom a (m b))))
      (m b))))
